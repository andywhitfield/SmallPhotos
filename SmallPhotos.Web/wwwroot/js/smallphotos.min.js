function smpInitialise(){$(window).resize(function(){$("aside").css("display","");$(".nav-close:visible").length>0&&($(".nav-close").css("display",""),$(".nav-show").css("display",""))});$(".nav-show").click(function(){$("aside").fadeToggle("fast");$(this).hide();$(".nav-close").show()});$(".nav-close").click(function(){$("aside").hide();$(this).hide();$(".nav-show").show()});$("[data-href]").click(function(n){return window.location.href=$(this).attr("data-href"),n.preventDefault(),!1});$("[data-depends]").each(function(){let t=$(this),n=$(t.attr("data-depends"));if(n.is("input"))n.on("keypress",function(n){if(t.attr("disabled")&&(n.keyCode||n.which)===13)return n.preventDefault(),!1});n.on("change input paste keyup pickmeup-change",function(){let n=$(this).val();t.prop("disabled",n===null||n.match(/^\s*$/)!==null)});n.trigger("change")});$("[data-confirm]").click(function(n){if(!confirm($(this).attr("data-confirm")))return n.preventDefault(),!1})}function fullSizeImage(){var t=$(window),n=$("#fullimg"),f=$("#fullimg-scaled").prop("checked");if(f){var i=t.width()<=600,r=t.height()-(i?340:290),u=t.width()-(i?30:280);console.log("scaling image size to "+u+"x"+r);n.css("max-height",r);n.css("max-width",u)}else console.log("disabled image scaling, removing max height/width css"),n.css("max-height",""),n.css("max-width","")}